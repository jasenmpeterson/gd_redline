"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),SplashAnimation=function(){function e(){_classCallCheck(this,e),this.splashTimeline=new TimelineMax,this.curtain=document.querySelector(".curtain"),this.logo=document.querySelector(".square img"),this.square=document.querySelector(".curtain .square")}return _createClass(e,[{key:"animateSquare",value:function(){TweenMax.set(this.square,{autoAlpha:0}),this.splashTimeline.to(this.square,.8,{autoAlpha:1,scale:2,rotation:0,ease:Elastic.easeOut.config(1,.5)}).to(this.logo,.5,{autoAlpha:1,ease:Power4.easeOut},"-=0.80").to(this.square,1.2,{width:"100%",height:"100%",autoAlpha:0,delay:.5,ease:Power4.easeOut}).to(this.logo,.2,{autoAlpha:0,ease:Power4.easeOut},"1.20").to(this.curtain,.1,{autoAlpha:0,ease:Power4.easeOut},"1.45")}}]),e}();(new SplashAnimation).animateSquare();var IntroductionAnimation=function(){function e(){_classCallCheck(this,e),this.mainTimeline=new TimelineLite({delay:1.5}),this.lineTimeline=new TimelineLite,this.textTimeline=new TimelineLite,this.splitText=new SplitText(".introduction__wrap h1",{type:"words,chars"}),this.introductionText=document.querySelector(".introduction__wrap h1"),this.line=document.querySelector(".introduction__wrap .line"),this.chars=this.splitText.chars,this.logo=document.querySelector(".redline__logo"),this.logoTimeline=new TimelineLite}return _createClass(e,[{key:"AnimateText",value:function(){TweenLite.set(this.introductionText,{perspective:400}),this.textTimeline.staggerFrom(this.chars,.8,{opacity:0,scale:0,y:80,rotationX:180,transformOrigin:"0% 50% -50",ease:Back.easeOut},.01,"+=0")}},{key:"AnimateLine",value:function(){var e=TweenLite.fromTo(this.line,.5,{opacity:0,width:0},{opacity:1,width:"4.0625rem",ease:Power1.easeOut,delay:.6});this.lineTimeline.add(e)}},{key:"AnimateLogo",value:function(){TweenLite.set(this.logo,{autoAlpha:0,x:100});var e=TweenLite.to(this.logo,.5,{autoAlpha:1,x:0,delay:.65,easing:Power4.easeOut});this.logoTimeline.add(e)}},{key:"Animate",value:function(){this.AnimateText(),this.AnimateLine(),this.AnimateLogo(),this.mainTimeline.add([this.textTimeline,this.lineTimeline,this.logoTimeline])}}]),e}();(new IntroductionAnimation).Animate(),GSDevTools.create({css:{zIndex:100}});var PageSlider=function(){function e(t){_classCallCheck(this,e),this.slide=t,this.slideStart=this.slide.offsetTop,this.slideJump=!1,this.viewStart,this.duration=1e3,this.scrolled=document.querySelector(".scroll__wrap")}return _createClass(e,[{key:"animateScroll",value:function(){var e=this;this.slideJump=!0;var t,i,r=this.viewStart,a=this.slideStart,o=a-r,n=void 0,l=0,s=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},u=function(t){t===a&&(cancelAnimationFrame(n),setTimeout(function(){e.slideJump=!1},500))},c=function h(){l+=16,t=l/e.duration,t>1?(t=1,i=a):i=r+o*s(t),e.scrolled.scrollTop=i,n=requestAnimationFrame(h),u(i)};n=requestAnimationFrame(c)}},{key:"scrollToSection",value:function(){var e=this;window.addEventListener("wheel",function(t){if(e.viewStart=e.scrolled.scrollTop,e.slideJump)t.preventDefault();else{var i=e.slide.scrollHeight,r=i/2,a=window.innerHeight,o=e.viewStart+a,n=o-e.slideStart,l=e.slideStart+i-e.viewStart,s=n>=0,u=n>r,c=l>=0,h=l>r,m=t.deltaY>0;(m&&s&&!u||!m&&c&&!h)&&(t.preventDefault(),e.animateScroll())}})}}]),e}(),slides=document.querySelectorAll(".section__wrap"),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=slides[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var slide=_step.value;new PageSlider(slide).scrollToSection()}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator["return"]&&_iterator["return"]()}finally{if(_didIteratorError)throw _iteratorError}}